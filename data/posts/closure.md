## ê°œë… ì •ì˜

- í•¨ìˆ˜ì™€ ê·¸ í•¨ìˆ˜ê°€ ì„ ì–¸ëœ ë ‰ì‹œì»¬ í™˜ê²½ì˜ ì¡°í•©ì´ë‹¤.
- ì–´ë–¤ í•¨ìˆ˜ Aì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ aë¥¼ ì°¸ì¡°í•˜ëŠ” ë‚´ë¶€í•¨ìˆ˜ Bë¥¼ ì™¸ë¶€ë¡œ ì „ë‹¬í•  ê²½ìš° Aì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œëœ ì´í›„ì—ë„ ë³€ìˆ˜ aê°€ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ” í˜„ìƒ

ğŸ’¡ ì–´ë–¤ í•¨ìˆ˜ì˜ ë ‰ì‹œì»¬ í™˜ê²½ì€ í•´ë‹¹ í•¨ìˆ˜ì˜ ìƒëª…ì£¼ê¸°ê°€ ì¢…ë£Œë˜ëŠ” ì¦‰ì‹œ ì‚¬ë¼ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆê³ , ì°¸ì¡°ê°€ ì—†ì„ ë•Œ ê°€ë¹„ì§€ ì»¬ë ‰í„°ì— ì˜í•´ì„œ ì‚¬ë¼ì§„ë‹¤.

## ë ‰ì‹œì»¬ í™˜ê²½ê³¼ í´ë¡œì €

- í•¨ìˆ˜ ê°ì²´ëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ì— ì €ì¥í•œ ë ‰ì‹œì»¬ í™˜ê²½ì˜ ì°¸ì¡°, ì¦‰ ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ìì‹ ì´ ì¡´ì¬í•˜ëŠ” í•œ ê¸°ì–µí•œë‹¤.

## ì˜ˆì‹œ

```jsx
const x = 1;

function outer() {
	const x = 10;
	const inner = function () { console.log(x); }
	return inner;
}

const innerFunc = outer(); // ì—¬ê¸°ì„œ outer()ëŠ” innerë¥¼ ë¦¬í„´í•´ì£¼ê³  ìƒëª…ì£¼ê¸° ì¢…ë£Œ
innerFunc(); // 10
```

- outer í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì¤‘ì²© í•¨ìˆ˜ innerë¥¼ ë°˜í™˜í•˜ê³  ìƒëª… ì£¼ê¸° ë§ˆê°
- outer í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìŠ¤íƒì—ì„œ íŒ
- ì´ ë•Œ outer ì§€ì—­ë³€ìˆ˜ xì™€ ê°’ 10 ë˜í•œ ìƒëª… ì£¼ê¸° ë§ˆê°
- ê·¸ëŸ¬ë‚˜ innerFunct() í˜¸ì¶œ í•˜ë©´ 10 ì¶œë ¥

ğŸ’¡ ì´ì™€ ê°™ì´ ì¤‘ì²©í•¨ìˆ˜ê°€ ì™¸ë¶€í•¨ìˆ˜ë³´ë‹¤ ë” ì˜¤ë˜ ìœ ì§€ë˜ëŠ” ê²½ìš° ì´ë¯¸ ì¢…ë£Œëœ ì™¸ë¶€í•¨ìˆ˜ì˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤! ì´ëŸ¬í•œ ì¤‘ì²©í•¨ìˆ˜ë¥¼ í´ë¡œì €ë¼ê³  í•œë‹¤.

## í´ë¡œì €ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ê²½ìš°

- ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì‹ë³„ìë¥¼ ì°¸ì¡° í•˜ì§€ ì•Šì„ ë•Œ

```jsx
function foo () {
    const x = 1;
    const y = 2;
    // í´ë¡œì € x
    function bar () {
        const z = 3;
        
        debugger;
        // ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì‹ë³„ìë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ”ë‹¤.
        console.log(z);
    }
    return bar;
}

const bar = foo ();
bar();
```

- ì™¸ë¶€ í•¨ìˆ˜ë³´ë‹¤ ë¨¼ì € ì†Œë©¸í•˜ëŠ” ê²½ìš°

```jsx
function foo () {
    const x = 1;

    // barí•¨ìˆ˜ëŠ” í´ë¡œì €ì˜€ì§€ë§Œ ê³§ë°”ë¡œ ì†Œë©¸í•œë‹¤.
    // ì´ëŸ¬í•œ í•¨ìˆ˜ëŠ” ì¼ë°˜ì ìœ¼ë¡œ í´ë¡œì €ë¼ê³  í•˜ì§€ ì•ŠëŠ”ë‹¤.
    function bar () {
        debugger;
        // ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì‹ë³„ìë¥¼ ì°¸ì¡°í•œë‹¤.
        console.log(x);
    }
    bar();
}

foo();
```

## í´ë¡œì €ì— í•´ë‹¹í•˜ëŠ” ê²½ìš°

```jsx
function foo () {
    const x = 1;
    const y = 2;

    // í´ë¡œì €
    // ì¤‘ì²©í•¨ìˆ˜ barëŠ” ì™¸ë¶€í•¨ìˆ˜ë³´ë‹¤ ë” ì˜¤ë˜ ìœ ì§€ë˜ë©° ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì‹ë³„ìë¥¼ ì°¸ì¡°í•œë‹¤.
    function bar () {
        debugger;
        console.log(x);
    }
    return bar;
}

const bar = foo ();
bar();
```

ğŸ’¡ í´ë¡œì €ì— ì˜í•´ ì°¸ì¡°ë˜ëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì˜ ë³€ìˆ˜ë¥¼ ììœ ë³€ìˆ˜ë¼ê³  ë¶€ë¥¸ë‹¤.

- í´ë¡œì €ë€ í•¨ìˆ˜ê°€ ììœ  ë³€ìˆ˜ì— ëŒ€í•´ ë‹«í˜€ìˆë‹¤.

## í´ë¡œì € í™œìš©

- ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ë³€ê²½í•˜ê³  ìœ ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©!  ( ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ì€ë‹‰í•˜ê³  íŠ¹ì • í•¨ìˆ˜ì—ê²Œë§Œ ìƒíƒœ ë³€ê²½ì„ í—ˆìš©)

### ì˜¤ë¥˜ ë°œìƒ ìš°ë ¤ ë˜ëŠ” ì½”ë“œ

```jsx
let num = 0;

const increase = function () {
    return ++num;
};

console.log(increase()); // 1
console.log(increase()); // 2
console.log(increase()); // 3
```

- numì€ ì „ì—­ë³€ìˆ˜ì´ê¸° ë•Œë¬¸ì— ëˆ„êµ¬ë“  ì ‘ê·¼í•  ìˆ˜ ìˆê³  ë³€ê²½í•  ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œì  ë°œìƒ

### í´ë¡œì € ì‚¬ìš© ì•ˆì „ì„± ë³´ì¥ ì½”ë“œ

```jsx
const increase = (function () {
    let num = 0;
    // í´ë¡œì €
    return function () {
        return ++num;
    }
}());

console.log(increase()); // 1
console.log(increase()); // 2
console.log(increase()); // 3
```

- í´ë¡œì €ëŠ” ìƒíƒœê°€ ì˜ë„ì¹˜ ì•Šê²Œ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ì•ˆì „í•˜ê²Œ ì€ë‹‰í•˜ê³  íŠ¹ì • í•¨ìˆ˜ì—ê²Œë§Œ ìƒíƒœ ë³€ê²½ì„ í—ˆìš©í•˜ì—¬ ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ë³€ê²½í•˜ê³  ìœ ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

### ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜

```jsx
const counter = (function () {
    let num = 0;

    // í´ë¡œì €ì¸ ë©”ì„œë“œë¥¼ ê°–ëŠ” ê°ì²´ë¥¼ ë°˜í™˜
    // ê°ì²´ ë¦¬í„°ëŸ´ì€ ìŠ¤ì½”í”„ë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤.
    // ë”°ë¼ì„œ ì•„ë˜ ë©”ì„œë“œë“¤ì˜ ìƒìœ„ ìŠ¤ì½”í”„ëŠ” ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ì˜ ë ‰ì‹œì»¬ í™˜ê²½ì´ë‹¤.
    return {
        // num: 0 //í”„ë¡œí¼í‹°ëŠ”publicí•˜ë¯€ë¡œ ì€ë‹‰ë˜ì§€ ì•ŠëŠ”ë‹¤.
        increase() {
            return ++num;
        },
        decrease() {
            return num > 0 ? --num : 0;
        }
    };
}());

console.log(counter.increase()); // 1
console.log(counter.increase()); // 2
console.log(counter.decrease()); // 1
console.log(counter.decrease()); // 0
```

### ìƒì„±ì í•¨ìˆ˜ë¡œ í‘œí˜„

```jsx
const Counter = (function () {

    let num = 0;

    function Counter() {
        // this.num = 0; // í”„ë¡œí¼í‹°ëŠ” publicí•˜ë¯€ë¡œ ì€ë‹‰ë˜ì§€ ì•ŠëŠ”ë‹¤.
    }

    Counter.prototype.increase = function () {
        return ++num;
    }

    Counter.prototype.decrease = function () {
        return num > 0 ? --num : 0;
    }

    return Counter;
}());

const counter = new Counter();

console.log(counter.increase()); // 1
console.log(counter.increase()); // 2
console.log(counter.decrease()); // 1
console.log(counter.decrease()); // 0
```

- ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ê°ì²´ ë¦¬í„°ëŸ´ì€ ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ì˜ ì‹¤í–‰ ë‹¨ê³„ì—ì„œ í‰ê°€ë˜ì–´ ê°ì²´ê°€ ëœë‹¤. ì´ ë•Œ ê°ì²´ì˜ ë©”ì„œë“œë„ í•¨ìˆ˜ ê°ì²´ë¡œ ìƒì„±ëœë‹¤. ê°ì²´ ë¦¬í„°ëŸ´ì˜ ì¤‘ê´„í˜¸ëŠ” ì½”ë“œ ë¸”ë¡ì´ ì•„ë‹ˆë¯€ë¡œ ë³„ë„ì˜ ìŠ¤ì½”í”„ë¥¼ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.

### í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œì˜ í™œìš©

```jsx
// í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ê³  í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” ê³ ì°¨ í•¨ìˆ˜
// ì´ í•¨ìˆ˜ëŠ” ì¹´ìš´íŠ¸ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ ììœ  ë³€ìˆ˜ counterë¥¼ ê¸°ì–µí•˜ëŠ” í´ë¡œì €ë¥¼ ë°˜í™˜í•œë‹¤.
function makeCounter(aux) {
    // ì¹´ìš´íŠ¸ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ ììœ  ë³€ìˆ˜
    let counter = 0;

    // í´ë¡œì €ë¥¼ ë°˜í™˜
    return function () {
        // ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ë³´ì¡° í•¨ìˆ˜ì— ìƒíƒœ ë³€ê²½ì„ ìœ„ì„í•œë‹¤.
        counter = aux(counter);
        return counter;
    };
}

// ë³´ì¡° í•¨ìˆ˜
function increase(n) {
    return ++n;
}

// ë³´ì¡° í•¨ìˆ˜
function decrease(n) {
    return n > 0 ? --n : 0;
}

// í•¨ìˆ˜ë¡œ í•¨ìˆ˜ë¥¼ ìƒì„±í•œë‹¤.
// makeCounterí•¨ìˆ˜ëŠ” ë³´ì¡° í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì•„ í´ë¡œì €ë¥¼ ë°˜í™˜í•œë‹¤.
const increaser = makeCounter(increase);
console.log(increaser()); // 1
console.log(increaser()); // 2
// increaser í•¨ìˆ˜ì™€ëŠ” ë³„ê°œì˜ ë…ë¦½ëœ ë ‰ì‹œì»¬ í™˜ê²½ì„ ê°–ê¸° ë•Œë¬¸ì— ì¹´ìš´í„° ìƒíƒœê°€ ì—°ë™í•˜ì§€ ì•ŠëŠ”ë‹¤.
const decreaser = makeCounter(decrease);
console.log(decreaser()); // -1
console.log(decreaser()); // -2
```

ğŸ’¡ ììœ ë³€ìˆ˜ë¥¼ ê³µìœ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—  ì¦ê°ì´ ì—°ë™ë˜ì§€ ì•ŠëŠ”ë‹¤.

### ë ‰ì‹œì»¬ í™˜ê²½ì„ ê³µìœ í•˜ëŠ” í´ë¡œì €

```jsx
// í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ê³  í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” ê³ ì°¨ í•¨ìˆ˜
// ì´ í•¨ìˆ˜ëŠ” ì¹´ìš´íŠ¸ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ ììœ  ë³€ìˆ˜ counterë¥¼ ê¸°ì–µí•˜ëŠ” í´ë¡œì €ë¥¼ ë°˜í™˜í•œë‹¤.
const Counter = (function () {
    // ì¹´ìš´íŠ¸ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ ììœ  ë³€ìˆ˜
    let counter = 0;

    // í´ë¡œì €ë¥¼ ë°˜í™˜
    return function (aux) {
        // ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ë³´ì¡° í•¨ìˆ˜ì— ìƒíƒœ ë³€ê²½ì„ ìœ„ì„í•œë‹¤.
        counter = aux(counter);
        return counter;
    };
}());

// ë³´ì¡° í•¨ìˆ˜
function increase(n) {
    return ++n;
}

// ë³´ì¡° í•¨ìˆ˜
function decrease(n) {
    return n > 0 ? --n : 0;
}

// ë³´ì¡°í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ì—¬ í˜¸ì¶œ
console.log(Counter(increase)); // 1
console.log(Counter(increase)); // 2

// ììœ  ë³€ìˆ˜ë¥¼ ê³µìœ í•œë‹¤.
console.log(Counter(decrease)); // 1
console.log(Counter(decrease)); // 0
```